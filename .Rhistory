1.38/20
1.38/20 * 100
install.packages("EpiNow")
install.packages("remotes")
remotes::install_github("epiforecasts/EpiNow")
remotes::install_github("epiforecasts/EpiNow")
remotes::install_github("epiforecasts/EpiNow")
remotes::install_github("epiforecasts/EpiNow")
library("bsts")
install.packages("bsts")
library(bsts)
data(iclaims)
ss <- AddLocalLinearTrend(list(), initial.claims$iclaimsNSA)
ss <- AddSeasonal(ss, initial.claims$iclaimsNSA, nseasons = 52)
model1 <- bsts(initial.claims$iclaimsNSA,
state.specification = ss,
niter = 1000)
library(magrittr)
model1
model1 %>% View
model1$prior
model1$sigma.obs
model1$sigma.obs %>% plot
model1$sigma.trend.level %>% plot
model1$sigma.seasonal.52 %>% plot
model1$ %>% plot
model1$original.series %>% View
model1$original.series %>% plot
fit_full <- rstan::sampling(mod_full,
data = data_together,
chains = 2,
verbose = TRUE,
iter = 1000,
#warmup = 1000,
#algorithm = "Fixed_param",
refresh = 10,
cores = 2)
setwd("~/Documents/lshtm/github repos/covid19_asymptomatic_trans")
data_cases_symp <- readr::read_csv(file = "data/data_cases_symp.csv") %>%
dplyr::mutate(date = onset_date, T = day_no, I_sk = all) %>%
dplyr::select(T, I_sk)
data_cases_non_symp <- readr::read_csv(file = "data/data_cases_non_symp.csv") %>%
dplyr::mutate(date = test_date, T = day_no, R_n = non_symp) %>%
dplyr::select(T, R_n)
data_together <- list(t = length(data_cases_symp$I_sk),
y_obs_1 = data_cases_symp$I_sk,
y_obs_2 = data_cases_non_symp$R_n,
t0 = 0,
y0 = c(3710.0,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1,0),
ts = seq(1,32,1),
nu = 0.25,
gamma_a = 1.0 / 7.0,
gamma_prop = 1.0 / 2.4,
gamma_s = 1.0 / 3.2,
t_mu = 16.0,
mu = 1.0,
phi = 199.0/301.0,
N = 3711)
mod_full <- rstan::stan_model(file = "stan/asymptomatic_transmission.stan")
